
#API

## initialize() 

- Authenticates with the callstats.io backend to setup a trusted relationship with it.
- Status: `implemented`
  
  Params | Description
---------  | -----------
AppID  | of type _String_. It is obtained from callstats.io backend.
AppSecret  | of type _String_. It is obtained from callstats.io backend.
localUserID  | of type _String_, maximum length **256 bytes**. It is generated by the origin server and MUST NOT be null or empty.
initCallback  | providing a callback function is OPTIONAL, the callback asynchronously reports failure or success. 
statsCallback  | providing a callback function is OPTIONAL, the callback asynchronously reports the conference statistics.  
configParams  | is OPTIONAL, It is the set of parameters to enable/disable certain features in the library. 

## addNewFabric()
- Indicates that the WebRTC application intends to monitor the performance of the _PeerConnection_ between the two endpoints (represented by the corresponding UserIDs).
- Status: `implemented`
  
  Params | Description
---------  | -----------
pcObject  | pass the _PeerConnection_ object created after invoking `RTCPeerConnection()`."
remoteUserID  | of type _String_, maximum length **256 bytes**. It is generated by the origin server and MUST NOT be null or empty.
fabricUsage  | an Enumeration, with valid values values discussed in a later section.
conferenceID  | of type _String_, maximum length **512 bytes**. It is generated by the origin server and MUST NOT be null or empty.
pcCallback  | providing a callback function is OPTIONAL, the callback asynchronously reports failure or success. 

## reportError()
- Notifies the callstats.io backend about conference setup failure associated with reason."
- Status: `implemented`

  Params | Description
---------  | -----------
pcObject  | SHOULD pass the _PeerConnection_ object on which the failure occurred, however it MAY be set to null when passing in errors that occur when _getUserMedia()_ is called.
conferenceID  | of type _String_, maximum length **512 bytes**. It is generated by the origin server and MUST NOT be null or empty.
wrtcFuncName  | an Enumeration, where the failure occurred."
domError  | pass the DOMError object received in the callback associated with the WebRTC API/function.
localSDP  | pass the local SDP when errors occur before or during setLocalDescription() is executed. It MAY be set to NULL, in case you do not want SDPs to be collected.
remoteSDP  | pass the remote SDP when errors occur during `createAnswer()`. It MAY be set to NULL, in case you do not want SDPs to be collected.

## associateMstWithUserID()
- Maps the SSRCs to a userID when multiple _MediaStreamTracks_ (MSTs) are sent or received in a single _PeerConnection_.
- Status: `implemented`
 
   Params | Description
---------  | -----------
pcObject  | pass the _PeerConnection_ object on which the _MediaStreamTracks_ are being sent.
userID  | of type _String_, maximum length **256 bytes**. It is generated by the origin server and MUST NOT be null or empty.
conferenceID  | of type _String_, maximum length **512 bytes**. It is generated by the origin server and MUST NOT be null or empty.
ssrc  | Synchronization Source Identifier, as defined in [RFC3550](https://tools.ietf.org/html/rfc3550). It is typically generated by the user-agent and MUST not be null or empty.
usageLabel  | of type _String_, maximum length **20 bytes**. It is generated by the origin server and MUST not be null or empty. For example, it can be set to `front-camera`, `back-camera`, `screen`, `audio-in`, `mic`, `system-sound`, enumeration-of-wrtcfuncname.
associatedVideoTag  | providing the associated `video tag id` attribute value. This is argument OPTIONAL.

## sendFabricEvent()
- Notifies the callstats.io backend about events (e.g., 'Hold', 'Mute', etc.) on a _PeerConnection_. It is usually generated due to local user interaction at a _PeerConnection_.
- Status: `implemented`

  Params | Description
---------  | -----------
pcObject  | pass the _PeerConnection_ object associated with the _fabricEvent_.
fabricEvent  | an Enumeration, with valid values discussed in a later section.
conferenceID  | of type _String_, maximum length **512 bytes**. It is generated by the origin server and MUST NOT be null or empty.

## sendUserFeedback()

- Send the feedback indicated by the user for a specific conferenceID.
- Status: `implemented`
 
   Params | Description
---------  | -----------
conferenceID  | of type _String_, maximum length **512 bytes**. It is generated by the origin server and MUST NOT be null or empty.
feedback  | is a JSON object.
pcCallback  | providing a callback function is OPTIONAL, the callback asynchronously reports failure or success. 


---

## JSON for sendUserFeedback

Mandatory Keys:

- userID : of type _String_, maximum length **256 bytes**. It is generated by the origin server and MUST NOT be null or empty; discussed in a [later section](#generating-the-userid).
- overall: of type _Integer_, MUST be a value between 1-5. Typically the scores correspond to the [mean opinion score](https://en.wikipedia.org/wiki/Mean_opinion_score), in this case this value represents the overall quality perceived by the userID.

Optional Keys:

- audio, video, screen: similar to the definition of `overall`, except these values correspond to specific types of media streams.

---